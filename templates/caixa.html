{% extends 'base.html' %}
{% block title %}Caixa{% endblock %}
{% block content %}
<div class="card">
  <h2>Caixa de hoje</h2>
  {% if caixa %}
    <p>Status: {{ 'ABERTO' if caixa.aberto else 'FECHADO' }}</p>
    <p>Saldo inicial: R$ {{ '%.2f'|format(caixa.saldo_inicial) }}</p>
  {% else %}
    <p>Caixa ainda não aberto hoje.</p>
  {% endif %}
  <p>Entradas: R$ {{ '%.2f'|format(total_entradas) }}</p>
  <p>Saídas: R$ {{ '%.2f'|format(total_saidas) }}</p>
  <p><strong>Saldo atual: R$ {{ '%.2f'|format(saldo_atual) }}</strong></p>

  <div class="row">
    <form method="post" action="{{ url_for('abrir_caixa') }}">
      <input name="valor" type="number" step="0.01" placeholder="Saldo inicial" required>
      <button class="btn">Abrir/Reconfigurar</button>
    </form>
    <form method="post" action="{{ url_for('fechar_caixa') }}">
      <button class="btn danger">Fechar</button>
    </form>
    <form method="post" action="{{ url_for('reabrir_caixa') }}">
      <button class="btn">Reabrir (só o de hoje)</button>
    </form>
  </div>
</div>
{% endblock %}
